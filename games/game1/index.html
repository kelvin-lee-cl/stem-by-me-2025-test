<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GDevelop Game 1</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        #game-container {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        #game-canvas {
            border: 2px solid #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .game-ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .score {
            margin-bottom: 10px;
        }

        .controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            font-size: 14px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body>
    <div id="game-container">
        <canvas id="game-canvas" width="800" height="600"></canvas>

        <div class="game-ui">
            <div class="score">分數: <span id="score">0</span></div>
            <div class="lives">生命: <span id="lives">3</span></div>
        </div>

        <div class="controls">
            <p>使用方向鍵或 WASD 移動</p>
            <p>點擊滑鼠或按空白鍵射擊</p>
        </div>
    </div>

    <script>
        // Sample GDevelop-like game structure
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const livesElement = document.getElementById('lives');

        let score = 0;
        let lives = 3;
        let gameRunning = true;

        // Game objects
        const player = {
            x: canvas.width / 2,
            y: canvas.height - 50,
            width: 50,
            height: 50,
            speed: 5,
            color: '#00ff00'
        };

        const bullets = [];
        const enemies = [];

        // Input handling
        const keys = {};
        const mouse = { x: 0, y: 0, clicked: false };

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
        });

        canvas.addEventListener('click', () => {
            mouse.clicked = true;
        });

        document.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // Game functions
        function updatePlayer() {
            if (keys['ArrowLeft'] || keys['a'] || keys['A']) {
                player.x -= player.speed;
            }
            if (keys['ArrowRight'] || keys['d'] || keys['D']) {
                player.x += player.speed;
            }
            if (keys['ArrowUp'] || keys['w'] || keys['W']) {
                player.y -= player.speed;
            }
            if (keys['ArrowDown'] || keys['s'] || keys['S']) {
                player.y += player.speed;
            }

            // Keep player in bounds
            player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));
            player.y = Math.max(0, Math.min(canvas.height - player.height, player.y));
        }

        function shoot() {
            if (keys[' '] || mouse.clicked) {
                bullets.push({
                    x: player.x + player.width / 2,
                    y: player.y,
                    width: 4,
                    height: 10,
                    speed: 7,
                    color: '#ffff00'
                });
                mouse.clicked = false;
            }
        }

        function updateBullets() {
            for (let i = bullets.length - 1; i >= 0; i--) {
                bullets[i].y -= bullets[i].speed;
                if (bullets[i].y < 0) {
                    bullets.splice(i, 1);
                }
            }
        }

        function spawnEnemy() {
            if (Math.random() < 0.02) {
                enemies.push({
                    x: Math.random() * (canvas.width - 30),
                    y: -30,
                    width: 30,
                    height: 30,
                    speed: 2,
                    color: '#ff0000'
                });
            }
        }

        function updateEnemies() {
            for (let i = enemies.length - 1; i >= 0; i--) {
                enemies[i].y += enemies[i].speed;
                if (enemies[i].y > canvas.height) {
                    enemies.splice(i, 1);
                    lives--;
                    livesElement.textContent = lives;
                    if (lives <= 0) {
                        gameOver();
                    }
                }
            }
        }

        function checkCollisions() {
            for (let i = bullets.length - 1; i >= 0; i--) {
                for (let j = enemies.length - 1; j >= 0; j--) {
                    if (bullets[i] && enemies[j] &&
                        bullets[i].x < enemies[j].x + enemies[j].width &&
                        bullets[i].x + bullets[i].width > enemies[j].x &&
                        bullets[i].y < enemies[j].y + enemies[j].height &&
                        bullets[i].y + bullets[i].height > enemies[j].y) {

                        bullets.splice(i, 1);
                        enemies.splice(j, 1);
                        score += 10;
                        scoreElement.textContent = score;
                        break;
                    }
                }
            }
        }

        function gameOver() {
            gameRunning = false;
            ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('遊戲結束', canvas.width / 2, canvas.height / 2 - 50);

            ctx.font = '24px Arial';
            ctx.fillText(`最終分數: ${score}`, canvas.width / 2, canvas.height / 2);
            ctx.fillText('按 F5 重新開始', canvas.width / 2, canvas.height / 2 + 50);
        }

        function draw() {
            // Clear canvas
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw player
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);

            // Draw bullets
            bullets.forEach(bullet => {
                ctx.fillStyle = bullet.color;
                ctx.fillRect(bullet.x, bullet.y, bullet.width, bullet.height);
            });

            // Draw enemies
            enemies.forEach(enemy => {
                ctx.fillStyle = enemy.color;
                ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
            });
        }

        function gameLoop() {
            if (gameRunning) {
                updatePlayer();
                shoot();
                updateBullets();
                spawnEnemy();
                updateEnemies();
                checkCollisions();
                draw();
            }
            requestAnimationFrame(gameLoop);
        }

        // Start the game
        gameLoop();

        // Handle window resize
        window.addEventListener('resize', () => {
            const container = document.getElementById('game-container');
            const rect = container.getBoundingClientRect();
            canvas.style.width = rect.width + 'px';
            canvas.style.height = rect.height + 'px';
        });
    </script>
</body>

</html>